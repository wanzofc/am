<!DOCTYPE html>
<html>
<head>
    <title>ONLY WANZOFC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"/>

    <style>
      body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
        line-height: 1.6;
      }

      .container {
        width: 80%;
        margin: auto;
        overflow: hidden;
        padding: 20px;
      }

      h1 {
        text-align: center;
        color: #007bff;
        margin-bottom: 30px;
        animation: fadeInDown 1s ease-out;
      }

      h2 {
        color: #007bff;
        border-bottom: 2px solid #007bff;
        padding-bottom: 5px;
        margin-top: 30px;
      }

      #file-list, #link-list {
        margin-bottom: 30px;
      }

      .file-item {
        display: flex;
        justify-content: space-between; 
        align-items: center; 
        padding: 10px;
        background-color: #fff;
        border-bottom: 1px solid #eee;
      }

      .file-item:last-child {
        border-bottom: none;
      }

      a {
        color: #007bff;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      a:hover {
        color: #0056b3;
        text-decoration: underline;
      }

      .download-button {
        background-color: #28a745;
        color: white;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }

      .download-button:hover {
        background-color: #218838;
      }

      .link-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background-color: #fff;
        border-bottom: 1px solid #eee;
      }

      .try-button {
        background-color: #007bff;
        color: white;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .try-button:hover {
        background-color: #0056b3;
      }

      .battery-ip-container {
        display: flex;
        justify-content: space-around;
        margin-top: 30px;
      }

      .card {
        width: 45%;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        text-align: center;
        margin: 10px; 
        box-sizing: border-box; 
      }

      .card i {
        font-size: 2em;
        margin-bottom: 10px;
        color: #007bff;
          }
      .dynamic-card-container {
        display: flex;
        flex-wrap: wrap; 
        justify-content: flex-start; 
        margin-top: 20px;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
    <script>
        gsap.fromTo("#page-title", {opacity: 0, y: -50}, {opacity: 1, y: 0, duration: 1});

        function tryLink(link) {
            window.open(link, '_blank'); 
        }
        function getBatteryStatus() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function (battery) {
                    const batteryLevel = (battery.level * 100).toFixed(0) + '%';
                    const isCharging = battery.charging ? 'Mengisi daya' : 'Tidak mengisi daya';
                    document.getElementById('battery-level').textContent = batteryLevel;
                    document.getElementById('battery-status').textContent = isCharging;
                });
            } else {
                document.getElementById('battery-level').textContent = 'Tidak didukung';
                document.getElementById('battery-status').textContent = 'Tidak didukung';
            }
        }
        window.onload = function () {
            getBatteryStatus();
        };
        function getIPAddress() {
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('ip-address').textContent = data.ip;
                })
                .catch(error => {
                    console.error('Gagal mendapatkan IP address:', error);
                    document.getElementById('ip-address').textContent = 'Gagal mendapatkan IP';
                });
        }
        window.onload = function () {
            getBatteryStatus();
            getIPAddress();
            createDynamicCards();
        };
        function createFileCard(file) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <i class="fas fa-file"></i>
                <h3>File: ${file}</h3>
                <a href="/download/${file}" class="download-button">Unduh</a>
            `;
            return card;
        }
        function createLinkCard(link) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <i class="fas fa-link"></i>
                <h3>Link:</h3>
                <a href="${link}" target="_blank">${link}</a>
                <button class="try-button" onclick="tryLink('${link}')">Coba</button>
            `;
            return card;
        }
        function createDynamicCards() {
            const dynamicCardContainer = document.getElementById('dynamic-card-container');
            if (window.fileLinksData && window.fileLinksData.files) {
                window.fileLinksData.files.forEach(file => {
                    const fileCard = createFileCard(file);
                    dynamicCardContainer.appendChild(fileCard);
                });
        }
            if (window.fileLinksData && window.fileLinksData.links) {
                window.fileLinksData.links.forEach(link => {
                    const linkCard = createLinkCard(link);
                    dynamicCardContainer.appendChild(linkCard);
                });
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <h1 id="page-title">selamat datang!</h1>

        <div class="battery-ip-container">
            <div class="card">
                <i class="fas fa-battery-half"></i>
                <h3></h3>
                <p>Level: <span id="battery-level">Memuat...</span></p>
                <p>Status: <span id="battery-status">Memuat...</span></p>
            </div>
            <div class="card">
                <i class="fas fa-network-wired"></i>
                <h3>IP</h3>
                <p><span id="ip-address">Memuat...</span></p>
            </div>
        </div>
        <h2>File dan Tautan:</h2>
        <div id="dynamic-card-container" class="dynamic-card-container">
        </div>
    </div>
</body>
</html>
